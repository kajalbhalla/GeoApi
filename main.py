import requests
import googlemaps
import logging
import time
import json
import pandas as pd
import sys
import geocoder
from flask import Flask
app = Flask(__name__)


@app.route('/')
def apig():
    place=['MACORINA 330 2+MANANITAS+NEZAHUALCOYOTL+EM+57000',
'C LAGUNA MADRE 106+NUEVA OXTOTITLAN+TOLUCA+EM+50100',
'TLETL MZ 7 LT 14+FRACC ACOZAC+IXTAPALUCA+EM+56530',
'HEROES DEL 47 117+CENTRO DE SANTIAGO+SANTIAGO+NL+67300',
'AV 525 62+U HAB SAN JUAN DE ARAGON 1 SEC+GUSTAVO A MADERO+CDMX+07969',
'AV SALVADOR LOPEZ CHAVEZ 1750 104 B+SAN CARLOS+GUADALAJARA+JAL+44460',
'ESCORPIO 102+COL PRADO CHURUBUSCO+COYOACAN+CDMX+04230',
'VICENTE GUERRERO 45 3+JESUS SAN P DEL MONTE+SAN PABLO DEL MONTE+TLA+90970',
'C ZACATLAN 27 INT 2+PBLO SAN FRANCISCO ACATEPEC+SAN ANDRES CHOLULA+PUE+72845',
'HIDALGO SUR 47+CENTRO+TLALTIZAPAN DE ZAPATA+MOR+62770',
'C TULIPANES 5980 H AGUA CALIEN+HACIENDA DE AGUA CALIENTE+TIJUANA+BCN+22030',
'PROF S ARAMBERRI PTE 2715+CHEPEVERA+MONTERREY+NL+64030',
'JALISCO 721+FRACC LOS AGAVES+NUEVO LAREDO+TAM+88296',
'STA CRISTINA 13 A+FRAC SAN CARLOS NGL+NOGALES+SON+84090',
'Andador 5 Casa 13+Fracc Mirador del Valle+TLAJOMULCO DE ZUNIGA+JAL+45640',
'DOCTOR BARRAGAN 553 4+VERTIZ NARVARTE+BENITO JUAREZ+CDMX+03600',
'LOS SAUCES 285+COUNTRY CLUB+SALTILLO+COA+25207',
'SANTA LUCIA CASA 22+FRACC REAL ESMERALDA+ATIZAPAN DE ZARAGOZA+EM+52930',
'CLL 17 NUM 172+DEL SOL+NEZAHUALCOYOTL+EM+57200',
'CIRILO CELIS PASTRANA 9+LA LAGUNILLA+XALAPA+VER+91119',
'CLL 5 DE FEBRERO 37+MAQUIXTLA+ZACATLAN+PUE+73310',
'CLL OLIVARITO 45+OLIVAR DE LOS PADRES+ALVARO OBREGON+CDMX+01780',
'C LAGO PATZCUARO 19 8+ANAHUAC+MIGUEL HIDALGO+CDMX+11320',
'VERMONT 37 2+NAPOLES+BENITO JUAREZ+CDMX+03810',
'PONIENTE 20 449+LA PERLA+NEZAHUALCOYOTL+EM+57820']








    api_key="AIzaSyD9zIRT7YEXqFymHsxUEN4U18BLZYeW4hY"
    url="https://maps.googleapis.com/maps/api/geocode/json?"
    lat1=[None] * 25
    lng1=[None] * 25
    for i in range(25):
        res_ob=requests.get(url+'address='+place[i]+'&key='+api_key)
        x=res_ob.json()
        #lat1.append(str(x['results'][0]['geometry']['location']['lat']))
        lat1[i]=str(x['results'][0]['geometry']['location']['lat'])
        lng1[i]=str(x['results'][0]['geometry']['location']['lng'])
    listToStr1 = ",LAT: \n".join([str(elem) for elem in lat1])
    listToStr2 = ",LNG: \n".join([str(ele) for ele in lng1]) 
    tryl = listToStr1+listToStr2
    return tryl

    


if __name__ == '__main__':
    app.run(host='127.0.0.1', port=8080, debug=True)
