import requests
import googlemaps
import logging
import time
import json
import pandas as pd
import sys
import geocoder
from flask import Flask
app = Flask(__name__)


@app.route('/')
def apig():
    place=['STA ROSA DE LIMA 4428+CAM REAL+ZAPOPAN+JAL+45040',
'ALVAREZ 505+INDEPENDENCIA+ALLENDE+NL+67350',
'PASEO CABO SAN LUCAS MZA 21 LT 22+FRACC RECIDENCIAL ALTAMIRA+LOS CABOS+BCS+23473',
'C DEL ARCANGEL 720+COL LA FUENTE+TORREON+COA+27290',
'CALLE PRINCIPAL P 50+PORTA CELI+CULIACAN+SIN+80450',
'LEONA CUERAMARO KM 11+LOS PACHECOS+SAN FRANCISCO DEL RINCON+GTO+36300',
'UNIVERSIDAD 9 INT 80+LA REGADERA+IZTAPALAPA+CDMX+09250',
'CALLE COMPOSITORES NUM 1 A+COL TLALTENANGO+CUERNAVACA+MOR+62170',
'KINGSTON 500+PRIV ANAHUAC+GENERAL ESCOBEDO+NL+66059',
'PALMA CRIOLLA 9 TORRE 2 DEPTO 103+BOSQUE DE LAS PALMAS+HUIXQUILUCAN+EM+52787',
'AVENIDA QUINTA ALEGRE 20+FRACC LAS QUINTAS+HERMOSILLO+SON+83240',
'BARCELONA 232+RESIDENCIAL CAMPESTRE+IRAPUATO+GTO+36698',
'C ALATRISTE 2+COL CENTRO+ZACATLAN+PUE+73310',
'Calle 2 de Mayo Num 6A+Col Ignacio Zaragoza+CUAUTLA+MOR+62747',
'AKIL 392 DPTO 1+HEROES DE PADIERNA+TLALPAN+CDMX+14200',
'CDA GUADALAJARA 4 27+MIGUEL HIDALGO+TLALPAN+CDMX+14260',
'MAR DE LAS ANTILLAS 8471+LOMA LINDA+MONTERREY+NL+64120',
'EDO MEX 291 LT 30 C+LA NORIA+METEPEC+EM+52170',
'VICTORIA 130+RODRIGUEZ+REYNOSA+TAM+88630',
'LONDRES 224 DEPTO 101 PISO 1 L+JUAREZ+CUAUHTEMOC+CDMX+06600',
'BUENA VISTA MZA B LTE 2+FRACC LA JOYA+LOS CABOS+BCS+23406',
'SAN PEDRO 6059 V 24+FRACC VISTA BELLA+TIJUANA+BCN+22290',
'CALLE 45 1 2 1009+OBRERA+CHIHUAHUA+CHI+31350',
'AV 20 NORTE LT 04 MZ 51 PB C 32+CENTRO+SOLIDARIDAD+QR+77710',
'JUAN DE DIOS PEZA 141 4+COL OBRERA+CUAUHTEMOC+CDMX+06800',
'FF CC NACIONALES 580+SAN MATEO+AZCAPOTZALCO+CDMX+02490',
'PROLONGACION GONZALEZ GALLO 1300 9+COL TOLUQUILLA+SAN PEDRO TLAQUEPAQUE+JAL+45610',
'MAR DE LOS NUBLADOS MZ 49 LT 3+SELENE 2DA SECC+TLAHUAC+CDMX+13420',
'PASEO DE LOS MIRLOS 374+LOMAS DE LOURDES+SALTILLO+COA+25090',
'C VENADO MZA 17 LT 11 41+SUPMZA 20+BENITO JUAREZ+QR+77500',
'LAGO ZIRAHUEN 66 EDIF E DE 401+ANAHUAC+MIGUEL HIDALGO+CDMX+11320',
'C 2 16+EMILIANO ZAPATA+VERACRUZ+VER+91698',
'CDA VENECIA MZA 1 LT 25 C30+U HAB SAN CARLOS+ECATEPEC DE MORELOS+EM+55027',
'PASEO DE GILBERTO 93+FRACC BUGAMBILIAS+VILLA DE ALVAREZ+COL+28978',
'SIERRA CACHIMBA 115+LOMAS 4A SECCION+SAN LUIS POTOSI+SLP+78216',
'TORCUTO PASSO 325 INT 301+POLANCO QUINTA SECCION+MIGUEL HIDALGO+CDMX+11560',
'celaya 21 depto 401+COL hipodromo condesa+CUAUHTEMOC+CDMX+06100',
'C GENERAL CARLOS FUERO 26+LA LOMA+GUADALAJARA+JAL+44410',
'AV CIRCUNVALACION MZ14 LT1+SANTA MARIA AZTAHUACAN+IZTAPALAPA+CDMX+09570',
'GERTRUDIS BOCANEGRA MZA 2 LT 2 N 7+SUPMZA 223 FRACC PASEOS KABAH+BENITO JUAREZ+QR+77517',
'AV 607 13+U HAB SAN JUAN DE ARAGON 3A SECC+GUSTAVO A. MADERO+CDMX+07970',
'TULIPAN PORTUGUES 3+TULIPANES+CUERNAVACA+MOR+62388',
'SIERRA BOLANOS 2021 A+LAS AGUILAS+ZAPOPAN+JAL+45080',
'RET 1 C 7 NUM ED 60 EB DP 02 204+LOMAS DE SOTELO+MIGUEL HIDALGO+CDMX+11200',
'AV HIDALGO 22 A+ATLAMAXAC+TEPEYANCO+TLA+90180',
'FERRERIA 195 ED CANARIA DEPTO 204+SANTA CATARINA+AZCAPOTZALCO+CDMX+02250',
'EL MENSAJERO MZ 26 9+RICARDO FLORES MAGON+OAXACA DE JUAREZ+OAX+68020',
'TIBURCIO TORRES SN+FRACC JALAPA+JALAPA+TAB+86850',
'SANTO TOMAS 7010 303+FRACC VALLE SUR+TIJUANA+BCN+22470',
'PRIV DEL REFUGIO 10+COL SAN BARTOLO AMEYALCO+ALVARO OBREGON+CDMX+01800']



    api_key="AIzaSyD9zIRT7YEXqFymHsxUEN4U18BLZYeW4hY"
    url="https://maps.googleapis.com/maps/api/geocode/json?"
    lat1=[None] * 50
    lng1=[None] * 50
    for i in range(50):
        res_ob=requests.get(url+'address='+place[i]+'&key='+api_key)
        x=res_ob.json()
        #lat1.append(str(x['results'][0]['geometry']['location']['lat']))
        lat1[i]=str(x['results'][0]['geometry']['location']['lat'])
        lng1[i]=str(x['results'][0]['geometry']['location']['lng'])
    listToStr1 = ",LAT: \n".join([str(elem) for elem in lat1])
    listToStr2 = ",LNG: \n".join([str(ele) for ele in lng1]) 
    tryl = listToStr1+listToStr2
    return tryl

    


if __name__ == '__main__':
    app.run(host='127.0.0.1', port=8080, debug=True)
