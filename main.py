import requests
import googlemaps
import logging
import time
import json
import pandas as pd
import sys
import geocoder
from flask import Flask
app = Flask(__name__)


@app.route('/')
def apig():
    place=['PERIFERICO SUR 4091 ED Q3+INT 6 FUENTES PEDREGAL+TLALPAN+CDMX+14140',
'DE LA VIRGEN ED M167 302+SAN FCO CULHUACAN+COYOACAN+CDMX+04480',
'REYNA NUM 171 CASA 3+SAN ANGEL+ALVARO OBREGON+CDMX+01000',
'EXPLORADORES 2194+FRACC LAS CABANAS+SALTILLO+COA+25255',
'PRIV FRESA 1405 PLANTA BAJA+TRES CAMINOS+GUADALUPE+NL+67190',
'CORDILLERAS 141+LAS AGUILAS+ALVARO OBREGON+CDMX+01710',
'ADOLFO PRIETO 219  1+DEL VALLE+BENITO JUAREZ+CDMX+03100',
'RET 7 AV TALLER 11 BAJOS+JARDIN BALBUENA+VENUSTIANO CARRANZA+CDMX+15900',
'PASEO DE LOS CEDROS 65+PASEOS DEL SUR+XOCHIMILCO+CDMX+16010',
'MORENA 206+DEL VALLE+BENITO JUAREZ+CDMX+03100',
'LUCHA OBRERA  62+COL REVOLUCION+CHIHUAHUA+CHI+31135',
'CALLE ITURBIDE 14+COLONIA SAN FRANCISCO COACALCO+COACALCO DE BERRIOZABAL+EM+55700',
'EUCALIPTO 22 TORRE EF 403+JESUS DEL MONTE+HUIXQUILUCAN+EM+52764',
'C JESUS GARCIA 2160+NAINARI DEL YAQUI+CAJEME+SON+85130',
'FELIPE CARRILLO PTO 34 B 405+ANAHUAC+CUAUHTEMOC+CDMX+06450',
'VILLA JARDIN 118+VILLAS JARDIN+CELAYA+GTO+38035',
'21 DE MARZO 325+BENITO JUAREZ+VICTORIA+TAM+87090',
'UHAB PRESIDENTE MADERO+ED A 11 401 AZCAPOTZALCO+AZCAPOTZALCO+CDMX+02430',
'Trabajo y Prevision Social 557 int 2+Federal+VENUSTIANO CARRANZA+CDMX+15700',
'RNDA ESCRIT R CATELLANOS 203+PEDREGAL CARRASCO+COYOACAN+CDMX+04700',
'ANATOLE FRANCE 11 901+POLANCO+MIGUEL HIDALGO+CDMX+11560',
'REPUBLICAS 189 INT 303 B+PORTALES SUR+BENITO JUAREZ+CDMX+03300',
'CDA FLORENT 2593+FRAC MONTECARLOS RDENCIAL+MEXICALI+BCN+21250',
'CTO PUENTE DE LA BARQUETA 9770+FRACC PUENTE DE CANTERA 5 SECC+CHIHUAHUA+CHI+31115',
'TENOCH NUM 100 MZ 309 LT 11+CD AZTECA+ECATEPEC DE MORELOS+EM+55120']




    api_key="AIzaSyD9zIRT7YEXqFymHsxUEN4U18BLZYeW4hY"
    url="https://maps.googleapis.com/maps/api/geocode/json?"
    lat1=[None] * 25
    lng1=[None] * 25
    for i in range(25):
        res_ob=requests.get(url+'address='+place[i]+'&key='+api_key)
        x=res_ob.json()
        #lat1.append(str(x['results'][0]['geometry']['location']['lat']))
        lat1[i]=str(x['results'][0]['geometry']['location']['lat'])
        lng1[i]=str(x['results'][0]['geometry']['location']['lng'])
    listToStr1 = ",LAT: \n".join([str(elem) for elem in lat1])
    listToStr2 = ",LNG: \n".join([str(ele) for ele in lng1]) 
    tryl = listToStr1+listToStr2
    return tryl

    


if __name__ == '__main__':
    app.run(host='127.0.0.1', port=8080, debug=True)
