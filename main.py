import requests
import googlemaps
import logging
import time
import json
import pandas as pd
import sys
import geocoder
from flask import Flask
app = Flask(__name__)


@app.route('/')
def apig():
    place=['HOLANDA NUM 117+FRACC LOS LAURELES+ZAMORA+MICH+59674',
'C LIBERTAD OTE 318+COL CAPULTITLAN+TOLUCA+EM+50260',
'MAGNOLIA 215+COLORINES+SAN PEDRO GARZA GARCIA+NL+66275',
'1ER RET PLAN BARRANCAS 22+COL LOMAS DE CHAPULTEPEC+MIGUEL HIDALGO+CDMX+11000',
'C CANTERA 7 SP MNZ 15+AV ACANCEH+BENITO JUAREZ+QR+77505',
'FELIX PARRA 146 DEPTO 103+SAN JOSE INSURGENTES+BENITO JUAREZ+CDMX+03900',
'AVENIDA CENTRAL 1823 DEPTO 702 PH B2+CIUDAD GRANJAS+ZAPOPAN+JAL+45010',
'MONTE ELBRUZ 125 DEPTO 902+LOMAS DE CHAPULTEPEC+MIGUEL HIDALGO+CDMX+11000',
'CONGRESO 228+COL LA JOYA TLALPAN+TLALPAN+CDMX+14000',
'GELATI 33 201+SN MIGUEL CHAPULTEPEC+MIGUEL HIDALGO+CDMX+11850',
'AV JAVIER BARROS SIERRA+DEPTO 245 B 804+ALVARO OBREGON+CDMX+01210',
'BLVD CLUB DE GOLF 17+LOMAS DE BELLAVISTA+ATIZAPAN DE ZARAGOZA+EM+52994',
'VIA CENTAURO 5010 7+PASEO DE CUMBRES 4 SEC+MONTERREY+NL+64349',
'ANILLO VIAL FRAY JUNIPERO CERRA KM13 120+FRACC PRIVALIA AMBIENTA GUAPILLA 403 A+QUERETARO+QRO+76147',
'CARR MEX TOLUCA 5452 DEP 301 T A+EL YAQUI+CUAJIMALPA DE MORELOS+CDMX+05320',
'SIERRA LEONA 615+LOMAS DE CHAPULTEPEC 1 SECC+MIGUEL HIDALGO+CDMX+11000',
'PASEO DE LA REFORMA 2649 D 901+LOMAS ALTAS+MIGUEL HIDALGO+CDMX+11950',
'REFINERIA MADERO NUM 22+COL PETROLERA TAXQUENA+COYOACAN+CDMX+04410',
'PRIV NEPTUNO MZ 4 LO 50+VILLAS SANTA MARIA+TOLUCA+EM+50226',
'MELCHOR OCAMPO 21+CENTRO+PANUCO+VER+93990',
'HIDALGO MZ 21 LT 0+BUENAVISTA+TULTITLAN+EM+54955',
'AV ADOLFO LOPEZ MATEOS 15 2+PRESIDENTES+ALVARO OBREGON+CDMX+01290',
'CARR A SAN PABLO  40 CASA+21 XOCHIMILCO+XOCHIMILCO+CDMX+16030',
'SIERRA AMATEPEC 193 4+LOMAS DE CHAPULTEPEC+MIGUEL HIDALGO+CDMX+11000',
'SAN JORGE NUM 22+RESIDENCIAL SANTA CRUZ+NAUCALPAN DE JUAREZ+EM+53128',
'GALILEO 37 DPTO 102+POLANCO CHAPULTEPEC+MIGUEL HIDALGO+CDMX+11560',
'BLV MANUEL AVILA CAMACHO 777+COSTA DE ORO+BOCA DEL RIO+VER+94299',
'BONAO 131+LINDAVISTA NORTE+AZCAPOTZALCO+CDMX+02300',
'20 DE NOVIEMBRE 172+VALLE DORADO+NAUCALPAN DE JUAREZ+EM+53690',
'MONTE ALBAN NUM 217+DEP 305 COL NARVARTE+BENITO JUAREZ+CDMX+03020',
'Cerrada santoribio 58+residencial las projes+TORREON+COA+27010',
'4A CDA DE CALLE 10 206+GRANJAS SAN ANTONIO+IZTAPALAPA+CDMX+09070',
'COLORADO 121+CUMBRES 6TO SECTOR D+MONTERREY+NL+64360',
'BAJAD DE LASAGUILAS 1259+LOMAS DEL VALLE+ZAPOPAN+JAL+45120',
'GENERAL RINCON 126+GENERAL PEDRO MARIA ANAYA+BENITO JUAREZ+CDMX+03340',
'FUENTE DE LA CONCORDIA M 10 L 40+SM 330 ZONA URBANA+BENITO JUAREZ+QR+77560',
'ATENAS 264+VALLE DORADO+TLALNEPANTLA DE BAZ+EM+54020',
'SAN LUIS 51+LA PRIMAVERA+CULIACAN+SIN+80199',
'AV MANUEL J CLOUTHIER 200+FLORES MAGON+MAZATLAN+SIN+82190',
'PRIV NISPEROS 520+RDCIAL EL CASTANO+METEPEC+EM+52148',
'BVLD ASTURIAS 100 4D+SAN JUAN DE OCOTAN+ZAPOPAN+JAL+45019',
'AGRICULTURA 111+ESCANDON I SECCION+MIGUEL HIDALGO+CDMX+11800',
'HACIENDA BALVANERA 111+JURIQUILLA+QUERETARO+QRO+76230',
'LABRADORES 9+VILLA SATELITE+HERMOSILLO+SON+83200',
'MINERVA 1511+NUEVA LINDAVISTA+GUADALUPE+NL+67110',
'LIMON 210+VALLE DEL CAMPESTRE+SAN PEDRO GARZA GARCIA+NL+66265',
'DERECHO 13+LOMAS ANAHUAC+HUIXQUILUCAN+EM+52786',
'AV AGUASCALIENTES 509+JUAREZ+NAVOJOA+SON+85870',
'QUERETARO EJE 2 SUR 147 INT 701+ROMA NORTE+CUAUHTEMOC+CDMX+06700',
'MAR DE CORTES MZ 22 LT 2+MIRAMAR+LOS CABOS+BCS+23456']




    api_key="AIzaSyD9zIRT7YEXqFymHsxUEN4U18BLZYeW4hY"
    url="https://maps.googleapis.com/maps/api/geocode/json?"
    lat1=[None] * 50
    lng1=[None] * 50
    for i in range(50):
        res_ob=requests.get(url+'address='+place[i]+'&key='+api_key)
        x=res_ob.json()
        #lat1.append(str(x['results'][0]['geometry']['location']['lat']))
        lat1[i]=str(x['results'][0]['geometry']['location']['lat'])
        lng1[i]=str(x['results'][0]['geometry']['location']['lng'])
    listToStr1 = ",LAT: \n".join([str(elem) for elem in lat1])
    listToStr2 = ",LNG: \n".join([str(ele) for ele in lng1]) 
    tryl = listToStr1+listToStr2
    return tryl

    


if __name__ == '__main__':
    app.run(host='127.0.0.1', port=8080, debug=True)
