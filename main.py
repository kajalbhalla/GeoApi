import requests
import googlemaps
import logging
import time
import json
import pandas as pd
import sys
import geocoder
from flask import Flask
app = Flask(__name__)


@app.route('/')
def apig():
    place=['CDA MANUEL AVILA CAMACHO 321 INTERIOR 2+NUEVA PENSIONES+CENTRO+TAB+86149',
'CALLE 6 E 258 POR 17 B+FRACC JARDINES DE VISTA ALEGRE+MERIDA+YUC+97130',
'RIO BALSAS MZ 65 LT 54+EL SALADO+LA PAZ+EM+56524',
'TABLAJE 20876 LT 30 CONDO MADERO 54+TEMOZON NORTE+MERIDA+YUC+97302',
'CEDROS 322 7+SANTA MARIA LA RIBERA+CUAJIMALPA DE MORELOS+CDMX+05400',
'C VILLA UNION 10605+GUADALUPE XONACATEPEC+PUEBLA+PUE+72940',
'CORTAZAR 5+LOC SANTA TERESA+GUANAJUATO+GTO+36260',
'PRV 87 B ORIENTE 1656+GRANJAS SAN ISIDRO+PUEBLA+PUE+72587',
'AV 24 NORTE 13 ALTOS+5 DE FEBRERO+TAPACHULA+CHS+30710',
'AVE BERNARDO QUINTANA 205 DEPTO 1402 A+LA LOMA SANTA FE+ALVARO OBREGON+CDMX+01219',
'4TO RTNO DE ELVIRA VARGAS 235 INT DEP103+U HAB CTM CULHUACAN SECC 9+COYOACAN+CDMX+04909',
'AV LA MANCHA 942+FRACC VINAS DEL SOL+MEXICALI+BCN+21190',
'PROLONGACIÃ€N INDEPENDENCIA 508+MANUEL M DIEGUEZ+VILLA DE ALVAREZ+COL+28973',
'JUAN JOSE RIOS 108+SIERRA DE ALICA+ZACATECAS+ZAC+98050',
'INSURGENTES 3+TLAXINACALPAN+TEPEJI DEL RIO DE OCAMPO+HGO+42855',
'LA PERPETUA 2120+JARDINES DEL COUNTRY+GUADALAJARA+JAL+44210',
'JAZMIN 7+LA CANADA+NAUCALPAN DE JUAREZ+EM+53570',
'EDIF 8 ENT I DEPTO 101+U H LINDAVISTA VALLEJO+GUSTAVO A MADERO+CDMX+07720',
'ZACAPOAXTLAS 105 15+CERRITO COLORADO II+QUERETARO+QRO+76116',
'MINEROS MZ 399 LT 8+FUNDIDORES+CHIMALHUACAN+EM+56334',
'C PROL DE OPALO 15+COL ESTRELLA+GUSTAVO A MADERO+CDMX+07810',
'RIVERA 14 PROV+PUEBLO SANTA CECILIA TEPETLAPA+XOCHIMILCO+CDMX+16880',
'AVENIDA 1 SN+TEXHUACAN+TEXHUACAN+VER+95070',
'MANUEL J CLOUTHIER 1001 C 10+FRACC TORRECILLAS I+METEPEC+EM+52176',
'RETORNO DEL PEDREGAL 202+TROJES DEL PEDREGAL+JESUS MARIA+AGS+20983']






    api_key="AIzaSyD9zIRT7YEXqFymHsxUEN4U18BLZYeW4hY"
    url="https://maps.googleapis.com/maps/api/geocode/json?"
    lat1=[None] * 25
    lng1=[None] * 25
    for i in range(25):
        res_ob=requests.get(url+'address='+place[i]+'&key='+api_key)
        x=res_ob.json()
        #lat1.append(str(x['results'][0]['geometry']['location']['lat']))
        lat1[i]=str(x['results'][0]['geometry']['location']['lat'])
        lng1[i]=str(x['results'][0]['geometry']['location']['lng'])
    listToStr1 = ",LAT: \n".join([str(elem) for elem in lat1])
    listToStr2 = ",LNG: \n".join([str(ele) for ele in lng1]) 
    tryl = listToStr1+listToStr2
    return tryl

    


if __name__ == '__main__':
    app.run(host='127.0.0.1', port=8080, debug=True)
